(this.webpackJsonpgreenfield=this.webpackJsonpgreenfield||[]).push([[0],{13:function(t,e,n){},16:function(t,e,n){},20:function(t,e,n){},21:function(t,e,n){},22:function(t,e,n){},24:function(t,e,n){"use strict";n.r(e),n.d(e,"StoresContext",(function(){return M}));n(13);var o=n(1);function i(t){return Object(o.jsx)("button",{className:"CellComp ".concat(t.isActive?"active":""),onClick:function(){t.onClick()},"data-v-084a4b23":""})}n(16);var r=n(8),a=n(2),c=n.n(a),l=Object(r.a)((function(){var t=Object(a.useContext)(M).game;return Object(o.jsx)("div",{className:"FieldComp","data-v-756d8e45":"",children:Object(o.jsx)("table",{"data-v-756d8e45":"",children:Object(o.jsx)("tbody",{"data-v-756d8e45":"",children:t.field.rows.map((function(e,n){return Object(o.jsx)("tr",{"data-v-756d8e45":"",children:e.cells.map((function(e,r){return Object(o.jsx)("td",{"data-v-756d8e45":"",children:Object(o.jsx)(i,{isActive:e.active,onClick:function(){t.onCellClick(r,n)},"data-v-756d8e45":""},"cell"+r+n)},"td"+r+n)}))},"tr"+n)}))})})})})),s=(n(20),n(21),Object(r.a)((function(){var t=Object(a.useContext)(M).game;function e(t){return t.key.startsWith("Arrow")}return Object(o.jsxs)("div",{className:"MenuComp","data-v-4a077425":"",children:[Object(o.jsx)("div",{"data-v-4a077425":"",children:Object(o.jsxs)("p",{"data-v-4a077425":"",children:["steps counter: ",t.stepsAmount]})}),Object(o.jsxs)("div",{"data-v-4a077425":"",children:[Object(o.jsxs)("p",{"data-v-4a077425":"",children:["field size: ",t.rowAmount," x ",t.colAmount]}),Object(o.jsxs)("label",{"data-v-4a077425":"",children:["rows:",Object(o.jsx)("input",{type:"range",min:"1",max:"9",step:"1",value:t.rowAmount,onChange:function(e){t.onRowAmount(e.target.valueAsNumber)},"data-v-4a077425":""})]}),Object(o.jsxs)("label",{"data-v-4a077425":"",children:["columns:",Object(o.jsx)("input",{type:"range",min:"1",max:"9",step:"1",value:t.colAmount,onChange:function(e){t.setColAmount(e.target.valueAsNumber)},onMouseDown:function(){t.onColCtrlDown()},onMouseUp:function(){t.onColCtrlUp()},onKeyDown:function(n){e(n)&&t.onColCtrlDown()},onKeyUp:function(n){e(n)&&t.onColCtrlUp()},"data-v-4a077425":""})]})]}),Object(o.jsx)("div",{"data-v-4a077425":"",children:Object(o.jsxs)("label",{"data-v-4a077425":"",children:["change clicked cell:",Object(o.jsx)("input",{type:"checkbox",checked:t.flipTargetCell,onChange:function(e){t.onFlipTargetCell(e.target.checked)},"data-v-4a077425":""})]})}),Object(o.jsx)("div",{"data-v-4a077425":"",children:Object(o.jsx)("button",{onClick:function(){t.onRandomize()},"data-v-4a077425":"",children:"randomize field"})}),Object(o.jsx)("div",{"data-v-4a077425":"",children:Object(o.jsx)("button",{onClick:function(){window.alert("Small puzzle game.\nTo win, mark all cells green.\nClick on the cell will invert colors of all neighbors except for diagonals.")},"data-v-4a077425":"",children:"about"})})]})})));function u(){return Object(o.jsxs)("div",{className:"GameComp","data-v-8c025859":"",children:[Object(o.jsx)(l,{"data-v-8c025859":""}),Object(o.jsx)(s,{"data-v-8c025859":""})]})}n(22);var p,b,h,j,d,v,f,O,m,y,C=n(0),w=n(7),A=n.n(w),g=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(e){var n=e.getCLS,o=e.getFID,i=e.getFCP,r=e.getLCP,a=e.getTTFB;n(t),o(t),i(t),r(t),a(t)}))},x=n(4),k=n(5),D=n(6),S=n(3),z=(n(10),n(11)),P=n.n(z),R=(p=function(){function t(){Object(k.a)(this,t),Object(x.a)(this,"active",b,this),Object(C.e)(this)}return Object(D.a)(t,[{key:"invert",value:function(){this.active=!this.active}}]),t}(),b=Object(S.a)(p.prototype,"active",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Math.random()>=.5}}),Object(S.a)(p.prototype,"invert",[C.b],Object.getOwnPropertyDescriptor(p.prototype,"invert"),p.prototype),p),T=function t(e){Object(k.a)(this,t),this.cells=void 0,this.cells=e},F=(h=function(){function t(e,n){Object(k.a)(this,t),Object(x.a)(this,"rows",j,this),Object(C.e)(this),this.init(e,n)}return Object(D.a)(t,[{key:"init",value:function(t,e){this.rows=P.a.map(Array(e),(function(){return new T(P.a.map(Array(t),(function(){return new R})))}))}},{key:"invertAreaState",value:function(t,e,n){n&&this.invertCellState(t,e),this.invertCellState(t-1,e),this.invertCellState(t+1,e),this.invertCellState(t,e-1),this.invertCellState(t,e+1)}},{key:"isWin",value:function(){return this.rows.every((function(t){return t.cells.every((function(t){return t.active}))}))}},{key:"invertCellState",value:function(t,e){e>=0&&t>=0&&e<this.rows.length&&t<this.rows[e].cells.length&&this.rows[e].cells[t].invert()}}]),t}(),j=Object(S.a)(h.prototype,"rows",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(S.a)(h.prototype,"init",[C.b],Object.getOwnPropertyDescriptor(h.prototype,"init"),h.prototype),Object(S.a)(h.prototype,"invertAreaState",[C.b],Object.getOwnPropertyDescriptor(h.prototype,"invertAreaState"),h.prototype),Object(S.a)(h.prototype,"invertCellState",[C.b],Object.getOwnPropertyDescriptor(h.prototype,"invertCellState"),h.prototype),h),U=(d=function(){function t(){Object(k.a)(this,t),Object(x.a)(this,"prevColAmount",v,this),Object(x.a)(this,"colAmount",f,this),Object(x.a)(this,"rowAmount",O,this),Object(x.a)(this,"flipTargetCell",m,this),Object(x.a)(this,"stepsAmount",y,this),this.field=new F(this.colAmount,this.rowAmount),Object(C.e)(this)}return Object(D.a)(t,[{key:"setColAmount",value:function(t){this.colAmount=t}},{key:"onCellClick",value:function(t,e){this.field.invertAreaState(t,e,this.flipTargetCell),this.stepsAmount++,this.field.isWin()&&(window.alert("You won in ".concat(this.stepsAmount," steps!")),this.field.init(this.colAmount,this.rowAmount),this.stepsAmount=0)}},{key:"onRowAmount",value:function(t){this.rowAmount=t,this.field.init(this.colAmount,this.rowAmount),this.stepsAmount=0}},{key:"onFlipTargetCell",value:function(t){this.flipTargetCell=t,this.field.init(this.colAmount,this.rowAmount),this.stepsAmount=0}},{key:"onColCtrlDown",value:function(){this.prevColAmount=this.colAmount}},{key:"onColCtrlUp",value:function(){this.colAmount!==this.prevColAmount&&(this.field.init(this.colAmount,this.rowAmount),this.stepsAmount=0)}},{key:"onRandomize",value:function(){this.field.init(this.colAmount,this.rowAmount),this.stepsAmount=0}}]),t}(),v=Object(S.a)(d.prototype,"prevColAmount",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=Object(S.a)(d.prototype,"colAmount",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 6}}),O=Object(S.a)(d.prototype,"rowAmount",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),m=Object(S.a)(d.prototype,"flipTargetCell",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=Object(S.a)(d.prototype,"stepsAmount",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(S.a)(d.prototype,"setColAmount",[C.b],Object.getOwnPropertyDescriptor(d.prototype,"setColAmount"),d.prototype),Object(S.a)(d.prototype,"onCellClick",[C.b],Object.getOwnPropertyDescriptor(d.prototype,"onCellClick"),d.prototype),Object(S.a)(d.prototype,"onRowAmount",[C.b],Object.getOwnPropertyDescriptor(d.prototype,"onRowAmount"),d.prototype),Object(S.a)(d.prototype,"onFlipTargetCell",[C.b],Object.getOwnPropertyDescriptor(d.prototype,"onFlipTargetCell"),d.prototype),Object(S.a)(d.prototype,"onColCtrlDown",[C.b],Object.getOwnPropertyDescriptor(d.prototype,"onColCtrlDown"),d.prototype),Object(S.a)(d.prototype,"onColCtrlUp",[C.b],Object.getOwnPropertyDescriptor(d.prototype,"onColCtrlUp"),d.prototype),Object(S.a)(d.prototype,"onRandomize",[C.b],Object.getOwnPropertyDescriptor(d.prototype,"onRandomize"),d.prototype),d);Object(C.c)({enforceActions:"always",computedRequiresReaction:!0,reactionRequiresObservable:!0,observableRequiresReaction:!0,disableErrorBoundaries:!0});var N={game:new U},M=c.a.createContext(N);A.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(M.Provider,{value:N,children:Object(o.jsx)(u,{})})}),document.getElementById("root")),g()}},[[24,1,2]]]);
//# sourceMappingURL=main.125dde7f.chunk.js.map